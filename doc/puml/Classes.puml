@startuml
'https://plantuml.com/class-diagram 

left to right direction

component common {

together {
    package jvmMain {
        object "TextField" as JvmTextField <<composable>> {
            content: MutableState<String>,
            onValueChange: (String) -> Unit,
            label: @Composable () -> Unit = {},
            singleLine: Boolean = false,
            maxLines: Int? = if (singleLine) 1 else null,
            focusRequester: (() -> Unit) -> Unit = {},
            onSubmit: () -> Unit = {}
        }
    }
    package jsMain {
        object "TextField" as JsTextField <<composable>> {
            content: MutableState<String>,
            onValueChange: (String) -> Unit,
            label: @Composable () -> Unit = {},
            singleLine: Boolean = false,
            maxLines: Int? = if (singleLine) 1 else null,
            focusRequester: (() -> Unit) -> Unit = {},
            onSubmit: () -> Unit = {}
        }
    }
}
    package commonMain {

        class Chat {

        }

        class ChatClient {

        }

        Chat --> ChatClient

        object "TextField" as CommonTextField <<composable>> {
            content: MutableState<String>,
            onValueChange: (String) -> Unit,
            label: @Composable () -> Unit = {},
            singleLine: Boolean = false,
            maxLines: Int? = if (singleLine) 1 else null,
            focusRequester: (() -> Unit) -> Unit = {},
            onSubmit: () -> Unit = {}
        }

        package dto {
            abstract class ChatContent <<serializable>>
            class Message <<serializable>>
            class Notification <<serializable>>
            Message -|> ChatContent
            ChatContent <|- Notification
            class ChatUser <<serializable>> {
                +val name: String
                +val color: Color
            }
            class Color <<serializable>> {
                +val red: Int
                +val green: Int
                +val blue: Int
            }
            ChatUser -> Color
            Message --> ChatUser
            Notification --> ChatUser
        }

        Chat --> dto
        Chat -> CommonTextField
    }

    CommonTextField #-- JvmTextField
    CommonTextField #-- JsTextField
}

component desktop {
    class DesktopMain
    DesktopMain --> Chat
}

component server {
    class Server

    package db {
        class Db
        ChatContents --> Db
        ChatContentEntry --> Db
        ChatContentEntry -> ChatContents
        Users --> Db
        UserEntry --> Db
        UserEntry -> Users
    }

    Server -> db
    dto <-- Server
    Chat <-- Server
}

component web {
    class WebMain
    WebMain --> Chat
}

component android {
    class MainActivity <<activity>>
    MainActivity --> Chat
}

@enduml